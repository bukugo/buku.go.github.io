<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Perpustakaan Online - Buku Diantar ke Rumah Anda</title>
  <style>
    :root {
      --color-bg: #ffffff;
      --color-primary: #111827;
      --color-secondary: #6b7280;
      --color-accent: #2563eb;
      --color-accent-hover: #1d4ed8;
      --color-card-bg: #f9fafb;
      --color-shadow: rgba(0, 0, 0, 0.05);
      --radius: 0.75rem;
      --transition-speed: 0.3s;
      --max-width: 1200px;
      --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;

      --pastel1: #ffe3e3;
      --pastel2: #e0f2fe;
      --pastel3: #d8f7e8;
      --pastel4: #f3e8ff;
    }

    body {
      margin: 0;
      font-family: var(--font-sans);
      background: linear-gradient(135deg, var(--pastel3), var(--pastel4));
      color: var(--color-primary);
      line-height: 1.6;
      font-size: 18px;
      scroll-behavior: smooth;
      position: relative;
      overflow-x: hidden;
      min-height: 100vh;
    }

    body::before,
    body::after {
      content: "";
      position: fixed;
      z-index: 0;
      pointer-events: none;
      opacity: 0.1;
      filter: drop-shadow(0 0 1px rgba(0,0,0,0.05));
    }
    body::before {
      top: -100px;
      left: -100px;
      width: 300px;
      height: 300px;
      background: url('data:image/svg+xml;utf8,<svg width="300" height="300" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 4h40a4 4 0 0 1 4 4v44a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4V8a4 4 0 0 1 4-4z" stroke="%232563eb" stroke-width="3" fill="%23d8f7e8"/><line x1="12" y1="12" x2="48" y2="12" stroke="%232563eb" stroke-width="2" stroke-linecap="round"/><line x1="12" y1="24" x2="48" y2="24" stroke="%232563eb" stroke-width="2" stroke-linecap="round"/><line x1="12" y1="36" x2="48" y2="36" stroke="%232563eb" stroke-width="2" stroke-linecap="round"/></svg>') no-repeat center/contain;
      border-radius: var(--radius);
    }
    body::after {
      bottom: -80px;
      right: -80px;
      width: 220px;
      height: 220px;
      background: url('data:image/svg+xml;utf8,<svg width="220" height="220" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="8" width="48" height="48" stroke="%231d4ed8" stroke-width="3" rx="5" ry="5" fill="%23f3e8ff"/><line x1="14" y1="22" x2="50" y2="22" stroke="%231d4ed8" stroke-width="2" stroke-linecap="round"/><line x1="14" y1="34" x2="50" y2="34" stroke="%231d4ed8" stroke-width="2" stroke-linecap="round"/></svg>') no-repeat center/contain;
      border-radius: var(--radius);
    }

    main, header, footer {
      position: relative;
      z-index: 1;
    }

    *, *::before, *::after {
      box-sizing: border-box;
    }
    a {
      color: var(--color-accent);
      text-decoration: none;
      transition: color var(--transition-speed);
    }
    a:hover, a:focus {
      color: var(--color-accent-hover);
      outline: none;
    }

    .container {
      max-width: var(--max-width);
      margin-left: auto;
      margin-right: auto;
      padding-left: 1rem;
      padding-right: 1rem;
    }

    header {
      position: sticky;
      top: 0;
      background: #fff;
      border-bottom: 1px solid #e5e7eb;
      z-index: 999;
      box-shadow: 0 2px 4px var(--color-shadow);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 1rem;
      height: 64px;
      gap: 1rem;
    }
    .logo-text {
      font-weight: 800;
      font-size: 1.3rem;
      user-select: none;
      color: var(--color-primary);
    }
    nav {
      display: flex;
      gap: 2rem;
      font-weight: 600;
      font-size: 1rem;
      color: var(--color-secondary);
      align-items: center;
    }
    nav a {
      padding: 0.5rem 0;
      position: relative;
    }
    nav a::after {
      content: "";
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--color-accent);
      transition: width var(--transition-speed);
      border-radius: 1px;
    }
    nav a:hover::after,
    nav a:focus::after {
      width: 100%;
    }
    .btn-primary {
      background: var(--color-accent);
      color: white;
      padding: 0.5rem 1.5rem;
      border-radius: var(--radius);
      font-weight: 600;
      font-size: 1rem;
      border: none;
      cursor: pointer;
      transition: background-color var(--transition-speed);
      text-decoration: none;
      display: inline-block;
    }
    .btn-primary:hover,
    .btn-primary:focus {
      background: var(--color-accent-hover);
      outline: none;
    }

    .hero {
      padding: 6rem 1rem 5rem;
      text-align: center;
    }
    .hero h1 {
      font-weight: 800;
      font-size: 3.5rem;
      max-width: 720px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.1;
    }
    .hero p {
      font-weight: 500;
      font-size: 1.25rem;
      color: var(--color-secondary);
      margin: 1rem auto 2rem;
      max-width: 480px;
    }

    .features {
      display: flex;
      justify-content: center;
      gap: 2.5rem;
      padding-bottom: 5rem;
      flex-wrap: wrap;
    }
    .feature-card {
      background: var(--color-card-bg);
      padding: 2rem 1.75rem;
      border-radius: var(--radius);
      box-shadow: 0 4px 8px var(--color-shadow);
      text-align: center;
      transition: transform var(--transition-speed);
      display: flex;
      flex-direction: column;
      align-items: center;
      flex: 1 1 280px;
      max-width: 320px;
      gap: 1rem;
    }
    .feature-card:hover,
    .feature-card:focus-within {
      transform: translateY(-6px);
      box-shadow: 0 8px 16px rgba(37, 99, 235, 0.3);
      outline: none;
    }
    .feature-icon {
      font-size: 3rem;
      color: var(--color-accent);
    }
    .feature-title {
      font-weight: 700;
      font-size: 1.5rem;
      margin-bottom: 0.25rem;
      color: var(--color-primary);
    }
    .feature-desc {
      color: var(--color-secondary);
      font-size: 1rem;
      margin-bottom: 0.5rem;
      max-width: 280px;
    }

    /* Delivery destination selector inside feature card */
    .delivery-select {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
      font-weight: 600;
      color: var(--color-primary);
      width: 100%;
      max-width: 320px;
    }
    .delivery-select label {
      font-weight: 700;
      font-size: 1rem;
      text-align: center;
    }
    .delivery-select select {
      padding: 0.5rem 0.75rem;
      font-size: 1rem;
      border-radius: var(--radius);
      border: 1.5px solid var(--color-secondary);
      transition: border-color var(--transition-speed);
      font-family: var(--font-sans);
      cursor: pointer;
      width: 100%;
      max-width: 280px;
    }
    .delivery-select select:hover,
    .delivery-select select:focus {
      border-color: var(--color-accent);
      outline: none;
      box-shadow: 0 0 8px rgba(37, 99, 235, 0.3);
    }
    .shipping-cost {
      color: var(--color-accent);
      font-weight: 700;
      font-size: 1.1rem;
      margin-top: 0.25rem;
      user-select: none;
    }

    .catalog {
      padding-bottom: 6rem;
    }
    .catalog h2 {
      font-weight: 700;
      font-size: 2rem;
      margin-bottom: 2rem;
      text-align: center;
    }
    .catalog-select {
      max-width: 280px;
      margin: 0 auto 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      font-weight: 600;
      color: var(--color-primary);
    }
    .catalog-select label {
      font-weight: 700;
      font-size: 1rem;
      text-align: center;
    }
    .catalog-select select {
      padding: 0.5rem 0.75rem;
      font-size: 1rem;
      border-radius: var(--radius);
      border: 1.5px solid var(--color-secondary);
      transition: border-color var(--transition-speed);
      font-family: var(--font-sans);
      cursor: pointer;
      width: 100%;
      max-width: 280px;
      margin-left: auto;
      margin-right: auto;
    }
    .catalog-select select:hover,
    .catalog-select select:focus {
      border-color: var(--color-accent);
      outline: none;
      box-shadow: 0 0 8px rgba(37, 99, 235, 0.3);
    }
    .book-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 2rem;
    }
    .book-card {
      background: var(--color-card-bg);
      border-radius: var(--radius);
      box-shadow: 0 4px 12px var(--color-shadow);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transition: box-shadow var(--transition-speed);
      cursor: pointer;
    }
    .book-card:hover,
    .book-card:focus-within {
      box-shadow: 0 10px 20px rgba(37, 99, 235, 0.4);
      outline: none;
    }
    .book-cover {
      width: 100%;
      aspect-ratio: 3/4;
      object-fit: cover;
      border-bottom: 1px solid #e5e7eb;
    }
    .book-info {
      padding: 1rem;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .book-title {
      font-weight: 700;
      font-size: 1.1rem;
      margin-bottom: 0.25rem;
      color: var(--color-primary);
    }
    .book-author {
      color: var(--color-secondary);
      font-size: 0.9rem;
      margin-bottom: 0.75rem;
      font-style: italic;
    }

    .order-section {
      background: var(--color-card-bg);
      padding: 3rem 1rem 4rem;
      border-radius: var(--radius);
      box-shadow: 0 6px 20px var(--color-shadow);
      max-width: 600px;
      margin: 0 auto 6rem;
    }
    .order-section h2 {
      font-weight: 700;
      font-size: 2rem;
      margin-bottom: 1rem;
      text-align: center;
    }
    form {
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
    }
    label {
      font-weight: 600;
      color: var(--color-primary);
      margin-bottom: 0.3rem;
      display: block;
    }
    input, select, textarea {
      padding: 0.75rem 1rem;
      font-size: 1rem;
      border: 1.5px solid #d1d5db;
      border-radius: var(--radius);
      outline-offset: 2px;
      transition: border-color var(--transition-speed);
      font-family: var(--font-sans);
    }
    input:focus, select:focus, textarea:focus {
      border-color: var(--color-accent);
      box-shadow: 0 0 6px rgba(37, 99, 235, 0.3);
      outline: none;
    }
    textarea {
      resize: vertical;
      min-height: 100px;
    }
    button[type="submit"] {
      background: var(--color-accent);
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: var(--radius);
      font-weight: 700;
      cursor: pointer;
      border: none;
      transition: background-color var(--transition-speed);
    }
    button[type="submit"]:hover,
    button[type="submit"]:focus {
      background: var(--color-accent-hover);
      outline: none;
    }

    /* Return options */
    .return-options {
      max-width: 280px;
      margin: 1rem auto 0;
      display: flex;
      justify-content: center;
      gap: 1rem;
    }
    .return-options button {
      flex: 1;
      padding: 0.5rem 0;
      font-weight: 600;
      font-size: 1rem;
      border-radius: var(--radius);
      border: 1.5px solid var(--color-secondary);
      background: white;
      color: var(--color-secondary);
      cursor: pointer;
      transition: all var(--transition-speed);
    }
    .return-options button.active,
    .return-options button:hover,
    .return-options button:focus {
      border-color: var(--color-accent);
      color: var(--color-accent);
      background: var(--color-card-bg);
      outline: none;
      box-shadow: 0 0 8px rgba(37, 99, 235, 0.3);
    }

    footer {
      background: #f3f4f6;
      padding: 2rem 1rem;
      text-align: center;
      color: var(--color-secondary);
      font-size: 0.9rem;
      user-select: none;
    }

    @media (max-width: 600px) {
      .hero h1 {
        font-size: 2.5rem;
      }
      nav {
        gap: 1rem;
      }
      .btn-primary {
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
      }
      .features {
        flex-direction: column;
        gap: 2rem;
      }
      .feature-desc, .delivery-select, .catalog-select, .return-options {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="logo-text" tabindex="0">Universitas Mulawarman</div>
      <nav aria-label="Navigasi utama">
        <a href="#features">Fitur</a>
        <a href="#catalog">Katalog</a>
        <a href="#order">Pesan Buku</a>
        <a href="#" id="nav-login-link">Login</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero container" role="banner" aria-labelledby="hero-title" style="margin-top:1.5rem;">
      <h1 id="hero-title">Temukan, Pinjam, dan Buku Diantar ke Rumah Anda</h1>
      <p>Layanan perpustakaan online dengan pengantaran buku via kurir yang mudah dan cepat. Jelajahi koleksi kami dan pesan sekarang juga!</p>
      <a href="#order" class="btn-primary">Pesan Buku</a>
    </section>

    <section class="features container" id="features" aria-labelledby="features-title">
      <h2 id="features-title" class="sr-only">Fitur</h2>

      <article class="feature-card" tabindex="0" aria-labelledby="feature2-title">
        <div class="feature-icon" aria-hidden="true">ðŸšš</div>
        <h3 class="feature-title" id="feature2-title">Pengantaran Cepat</h3>
        <p class="feature-desc">
          Pilih tujuan pengantaran Anda, baik ke Fakultas atau Ruang Kelas, dengan ongkos kirim mulai dari:
        </p>
        <div class="delivery-select" aria-label="Pilih tujuan pengantaran">
          <label for="delivery-destination">Tujuan Pengantaran</label>
          <select id="delivery-destination" name="delivery-destination" aria-describedby="shipping-cost" aria-required="true">
            <optgroup label="Fakultas">
              <option value="ekonomi-bisnis">Ekonomi dan Bisnis</option>
              <option value="kehutanan">Kehutanan</option>
              <option value="kedokteran">Kedokteran</option>
              <option value="ilmu-budaya">Ilmu Budaya</option>
              <option value="lainnya">Lainnya</option>
            </optgroup>
            <optgroup label="Ruang Kelas">
              <option value="kelas-101">Ruang Kelas 101</option>
              <option value="kelas-102">Ruang Kelas 102</option>
              <option value="kelas-201">Ruang Kelas 201</option>
              <option value="kelas-202">Ruang Kelas 202</option>
              <option value="lainnya-kelas">Lainnya</option>
            </optgroup>
          </select>
          <div id="shipping-cost" class="shipping-cost" aria-live="polite" aria-atomic="true">Rp2.000 paling murah</div>
        </div>
      </article>

      <article class="feature-card" tabindex="0" aria-labelledby="feature3-title">
        <div class="feature-icon" aria-hidden="true">ðŸ”„</div>
        <h3 class="feature-title" id="feature3-title">Pengembalian Mudah</h3>
        <p class="feature-desc">Pilih apakah ingin Perpanjang peminjaman atau Beli buku setelah masa pinjam selesai.</p>
        <div class="return-options" role="radiogroup" aria-labelledby="feature3-title">
          <button type="button" class="active" role="radio" aria-checked="true" tabindex="0">Perpanjang</button>
          <button type="button" role="radio" aria-checked="false" tabindex="-1">Beli</button>
        </div>
      </article>
    </section>

    <section class="catalog container" id="catalog" aria-labelledby="catalog-title">
      <h2 id="catalog-title">Buku Pilihan</h2>
      <div class="catalog-select" aria-label="Pilih kategori koleksi">
        <label for="category-select">Kategori Koleksi</label>
        <select id="category-select" name="category-select" aria-required="false">
          <option value="" selected>Semua Kategori</option>
          <option value="medis">Medis</option>
          <option value="ekonomi">Ekonomi</option>
          <option value="pendidikan">Pendidikan</option>
          <option value="keuangan">Keuangan</option>
          <option value="perikanan">Perikanan</option>
          <option value="lainnya">Lainnya</option>
        </select>
      </div>
      <div class="book-grid" id="book-grid">
        <article class="book-card" tabindex="0" aria-label="Buku: Pengantar Akuntansi" data-category="ekonomi">
          <img src="https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?auto=format&amp;fit=crop&amp;w=400&amp;h=533&amp;q=80" alt="Sampul buku Pengantar Akuntansi" class="book-cover" />
          <div class="book-info">
            <h3 class="book-title">Pengantar Akuntansi</h3>
            <p class="book-author">Penulis: Sutrisno</p>
          </div>
        </article>
        <article class="book-card" tabindex="0" aria-label="Buku: Manajemen Keuangan" data-category="keuangan">
          <img src="https://images.unsplash.com/photo-1512820790803-83ca734da794?auto=format&amp;fit=crop&amp;w=400&amp;h=533&amp;q=80" alt="Sampul buku Manajemen Keuangan" class="book-cover" />
          <div class="book-info">
            <h3 class="book-title">Manajemen Keuangan</h3>
            <p class="book-author">Penulis: Rina Wijaya</p>
          </div>
        </article>
        <article class="book-card" tabindex="0" aria-label="Buku: Buku Medis" data-category="medis">
          <img src="https://images.unsplash.com/photo-1581090700227-5b563a80d50b?auto=format&amp;fit=crop&amp;w=400&amp;h=533&amp;q=80" alt="Sampul buku medis" class="book-cover" />
          <div class="book-info">
            <h3 class="book-title">Buku Medis</h3>
            <p class="book-author">Penulis: Dr. Sari</p>
          </div>
        </article>
        <article class="book-card" tabindex="0" aria-label="Buku: Buku Ekonomi Lainnya" data-category="ekonomi">
          <img src="https://images.unsplash.com/photo-1532012197267-da84d127e765?auto=format&amp;fit=crop&amp;w=400&amp;h=533&amp;q=80" alt="Sampul buku Buku Ekonomi Lainnya" class="book-cover" />
          <div class="book-info">
            <h3 class="book-title">Buku Ekonomi Lainnya</h3>
            <p class="book-author">Berbagai Penulis</p>
          </div>
        </article>
      </div>
    </section>

    <section class="order-section container" id="order" aria-labelledby="order-title">
      <h2 id="order-title">Pesan Pengantaran Buku</h2>
      <form id="order-form" aria-describedby="order-desc" novalidate>
        <p id="order-desc" style="color: var(--color-secondary); margin-bottom: 1rem;">
          Lengkapi formulir berikut untuk memesan pengantaran buku via kurir. Kami akan menghubungi Anda untuk konfirmasi.
        </p>
        <label for="fullName">Nama Lengkap *</label>
        <input type="text" id="fullName" name="fullName" required minlength="2" aria-required="true" aria-describedby="fullName-error" />
        <span id="fullName-error" class="error" aria-live="polite" style="color:#dc2626;display:none;">Mohon masukkan nama lengkap Anda.</span>

        <label for="email">Alamat Email *</label>
        <input type="email" id="email" name="email" required aria-required="true" aria-describedby="email-error" />
        <span id="email-error" class="error" aria-live="polite" style="color:#dc2626;display:none;">Mohon masukkan alamat email valid.</span>

        <label for="bookTitle">Judul Buku *</label>
        <select id="bookTitle" name="bookTitle" required aria-required="true" aria-describedby="bookTitle-error">
          <option value="" disabled selected>Pilih buku</option>
          <option>Pengantar Akuntansi</option>
          <option>Manajemen Keuangan</option>
          <option>Buku Medis</option>
          <option>Buku Ekonomi Lainnya</option>
        </select>
        <span id="bookTitle-error" class="error" aria-live="polite" style="color:#dc2626;display:none;">Mohon pilih buku.</span>

        <label for="address">Alamat Pengantaran *</label>
        <textarea id="address" name="address" required minlength="10" aria-required="true" aria-describedby="address-error"></textarea>
        <span id="address-error" class="error" aria-live="polite" style="color:#dc2626;display:none;">Mohon masukkan alamat pengantaran yang valid (min 10 karakter).</span>

        <button type="submit">Kirim Pesanan</button>
      </form>
      <div id="form-message" role="alert" aria-live="polite" style="margin-top: 1rem; font-weight: 600;"></div>
    </section>
  </main>

  <footer>
    &copy; 2024 PerpustakaanOnline. Semua hak dilindungi.
  </footer>

  <script>
    const navLoginLink = document.getElementById('nav-login-link');
    const loginSection = document.getElementById('login-section');
    const mainSections = document.querySelector('main > :not(#login-section)');
    const navLinks = document.querySelectorAll('.nav-links a');

    navLoginLink.addEventListener('click', (e) => {
      e.preventDefault();
      if(!loginSection.classList.contains('active')) {
        loginSection.classList.add('active');
        loginSection.setAttribute('aria-hidden', 'false');
        mainSections.style.display = 'none';
        navLinks.forEach(link => link.setAttribute('tabindex', '-1'));
        navLoginLink.setAttribute('tabindex', '0');
      }
      loginSection.scrollIntoView({behavior: "smooth"});
      signinEmailInput.focus();
    });

    loginSection.addEventListener('click', (e) => {
      if (e.target === loginSection) {
        closeLogin();
      }
    });
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape' && loginSection.classList.contains('active')) {
        closeLogin();
      }
    });

    function closeLogin() {
      loginSection.classList.remove('active');
      loginSection.setAttribute('aria-hidden', 'true');
      mainSections.style.display = '';
      navLinks.forEach(link => link.setAttribute('tabindex', '0'));
      navLoginLink.setAttribute('tabindex', '0');
      navLoginLink.focus();
    }

    const tabSignin = document.getElementById('tab-signin');
    const tabSignup = document.getElementById('tab-signup');
    const signinForm = document.getElementById('signin-form');
    const signupForm = document.getElementById('signup-form');

    tabSignin.addEventListener('click', () => switchTab('signin'));
    tabSignup.addEventListener('click', () => switchTab('signup'));

    function switchTab(tab) {
      if(tab === 'signin') {
        tabSignin.classList.add('active');
        tabSignin.setAttribute('aria-selected', 'true');
        tabSignin.setAttribute('tabindex', '0');
        tabSignup.classList.remove('active');
        tabSignup.setAttribute('aria-selected', 'false');
        tabSignup.setAttribute('tabindex', '-1');
        signinForm.classList.add('active');
        signinForm.setAttribute('aria-hidden', 'false');
        signupForm.classList.remove('active');
        signupForm.setAttribute('aria-hidden', 'true');
        clearFormMessages(signupForm);
        clearFormMessages(signinForm);
        signinEmailInput.focus();
      } else {
        tabSignup.classList.add('active');
        tabSignup.setAttribute('aria-selected', 'true');
        tabSignup.setAttribute('tabindex', '0');
        tabSignin.classList.remove('active');
        tabSignin.setAttribute('aria-selected', 'false');
        tabSignin.setAttribute('tabindex', '-1');
        signupForm.classList.add('active');
        signupForm.setAttribute('aria-hidden', 'false');
        signinForm.classList.remove('active');
        signinForm.setAttribute('aria-hidden', 'true');
        clearFormMessages(signinForm);
        clearFormMessages(signupForm);
        signupNameInput.focus();
      }
    }

    function clearFormMessages(form) {
      const errorElements = form.querySelectorAll('.error-message');
      errorElements.forEach(el => {
        el.style.display = 'none';
        el.textContent = '';
      });
      const successMessage = form.querySelector('.success-message');
      if(successMessage) successMessage.textContent = '';
    }

    const signinEmailInput = document.getElementById('signin-email');
    const signinPasswordInput = document.getElementById('signin-password');
    const signinEmailError = document.getElementById('signin-email-error');
    const signinPasswordError = document.getElementById('signin-password-error');
    const signinMessage = document.getElementById('signin-message');

    const signupNameInput = document.getElementById('signup-name');
    const signupEmailInput = document.getElementById('signup-email');
    const signupPasswordInput = document.getElementById('signup-password');
    const signupPasswordConfirmInput = document.getElementById('signup-password-confirm');
    const signupNameError = document.getElementById('signup-name-error');
    const signupEmailError = document.getElementById('signup-email-error');
    const signupPasswordError = document.getElementById('signup-password-error');
    const signupPasswordConfirmError = document.getElementById('signup-password-confirm-error');
    const signupMessage = document.getElementById('signup-message');

    function validateEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    signinForm.addEventListener('submit', (e) => {
      e.preventDefault();
      signinEmailError.style.display = 'none';
      signinPasswordError.style.display = 'none';
      signinMessage.textContent = '';

      let valid = true;
      if(!signinEmailInput.value.trim() || !validateEmail(signinEmailInput.value.trim())) {
        signinEmailError.textContent = 'Mohon masukkan email yang valid.';
        signinEmailError.style.display = 'block';
        valid = false;
      }
      if(!signinPasswordInput.value.trim() || signinPasswordInput.value.trim().length < 6) {
        signinPasswordError.textContent = 'Kata sandi minimal 6 karakter.';
        signinPasswordError.style.display = 'block';
        valid = false;
      }
      if(!valid) return;

      signinMessage.style.color = 'var(--color-accent)';
      signinMessage.textContent = 'Berhasil masuk! Selamat datang kembali.';
      signinForm.reset();
    });

    signupForm.addEventListener('submit', (e) => {
      e.preventDefault();
      [signupNameError, signupEmailError, signupPasswordError, signupPasswordConfirmError].forEach(el => {
        el.style.display = 'none';
        el.textContent = '';
      });
      signupMessage.textContent = '';

      let valid = true;

      if(!signupNameInput.value.trim() || signupNameInput.value.trim().length < 2) {
        signupNameError.textContent = 'Nama lengkap minimal 2 karakter.';
        signupNameError.style.display = 'block';
        valid = false;
      }
      if(!signupEmailInput.value.trim() || !validateEmail(signupEmailInput.value.trim())) {
        signupEmailError.textContent = 'Mohon masukkan email yang valid.';
        signupEmailError.style.display = 'block';
        valid = false;
      }
      if(!signupPasswordInput.value.trim() || signupPasswordInput.value.trim().length < 6) {
        signupPasswordError.textContent = 'Kata sandi minimal 6 karakter.';
        signupPasswordError.style.display = 'block';
        valid = false;
      }
      if(signupPasswordConfirmInput.value.trim() !== signupPasswordInput.value.trim()) {
        signupPasswordConfirmError.textContent = 'Konfirmasi kata sandi harus sama.';
        signupPasswordConfirmError.style.display = 'block';
        valid = false;
      }
      if(!valid) return;

      signupMessage.style.color = 'var(--color-accent)';
      signupMessage.textContent = 'Akun berhasil dibuat! Silakan masuk.';
      signupForm.reset();

      switchTab('signin');
    });

    const categorySelect = document.getElementById('category-select');
    const bookGrid = document.getElementById('book-grid');
    categorySelect.addEventListener('change', () => {
      const selected = categorySelect.value;
      const books = bookGrid.querySelectorAll('.book-card');
      books.forEach(book => {
        if (selected === '' || book.dataset.category === selected) {
          book.style.display = '';
        } else {
          book.style.display = 'none';
        }
      });
    });

    const returnOptions = document.querySelectorAll('.return-options button');
    returnOptions.forEach(button => {
      button.addEventListener('click', () => {
        returnOptions.forEach(btn => {
          btn.classList.remove('active');
          btn.setAttribute('aria-checked', 'false');
          btn.setAttribute('tabindex', '-1');
        });
        button.classList.add('active');
        button.setAttribute('aria-checked', 'true');
        button.setAttribute('tabindex', '0');
      });
    });
  </script>
</body>
</html>
